# Providers - Cegid Vendus - Configuration

The current configuration for Cegid Vendus will look like this

```php
return [
    'provider' => env('INVOICING_INTEGRATION_PROVIDER'),
    'providers' => [
        'CegidVendus' => [
            'key' => env('CEGID_VENDUS_API_KEY'),
            'mode' => env('CEGID_VENDUS_MODE'),
            'payments' => [
                PaymentMethod::MB->value => env('CEGID_VENDUS_PAYMENT_MB_ID'),
                PaymentMethod::CREDIT_CARD->value => env('CEGID_VENDUS_PAYMENT_CREDIT_CARD_ID'),
                PaymentMethod::CURRENT_ACCOUNT->value => env('CEGID_VENDUS_PAYMENT_CURRENT_ACCOUNT_ID'),
                PaymentMethod::MONEY->value => env('CEGID_VENDUS_PAYMENT_MONEY_ID'),
                PaymentMethod::MONEY_TRANSFER->value => env('CEGID_VENDUS_PAYMENT_MONEY_TRANSFER_ID'),
            ],
        ],
    ],
];
```

## key

You can find this API key in account configuration.

## mode

They have two modes. Tests or Production. If you are in Production mode the documents you invoice will have fiscal validity (if you have AT CUD configured).

If you are in Tests mode, all your documents will be invoiced as a test document, and will not be fiscally valid.

You can read more about AT CUD <a href="https://www.vendus.pt/ajuda/comunicacao-de-series-de-faturacao/" target="_blank">here</a> and about Cegid Vendus tests mode <a href="https://www.vendus.pt/ajuda/modo-formacao-testes/" target="_blank">here</a>.

## payments mapping

Payments are a tricky thing to be dealt with because each payment method must point to the numeric ID generated by Cegid Vendus.

> Note - This current approach requires "static" ids to be configured, but the goal is to allow you to call the API and retrieve those ids yourself, so you can manage them however you intend to.

You can find more about the Payment Methods <a href="https://www.vendus.pt/ajuda/adicionar-metodos-pagamento/" target="_blank">here</a>.

After you have your payments configured you need to get their each of the respective IDs from the URL.

![Payment ID example](image.png)

You need to take that last ID an assign to the desired payment method.

```php
// config/invoicing-integration.php
<?php

return [
    // ...
    'providers' => [
        'CegidVendus' => [
            'payments' => [
                PaymentMethod::MB->value => env('CEGID_VENDUS_PAYMENT_MB_ID', 284458541),
                // ...
            ],
        ],
    ],
];
```

Or in the `.env` file

```bash
CEGID_VENDUS_PAYMENT_MB_ID=284458541
```
